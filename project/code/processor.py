




class Processor:

    def __init__(self, chars_to_remove):
        self.chars_to_remove = chars_to_remove

    def process(self, content):
        for char_to_remove in self.chars_to_remove:
            content = content.replace(char_to_remove, ' ')

        content = ' '.join(content.lower().split()) # remove multiple whitespaces

        return self.filter(content)

    def filter(self, content, segment='pure code'):
        '''
            CODE    -       Pure code   <-------- what we want
            DATA    -       Pure data
            CONST   -       Pure data
            BSS     -       Uninitialized data
            STACK   -       Uninitialized data
            XTRN    -       Extern definitions segment
        '''

        segments = content.split('segment type')
        content_segments = ''

        for seg in segments:
            if segment in seg[:10].lower():
                # print(len(seg.split(' ')), '|', seg[:30])
                content_segments += ' ' + seg.strip()

        return content_segments